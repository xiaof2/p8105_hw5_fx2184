p8105_hw5_fx2184
================
Fei
2022-11-15

# problem 2

``` r
# read the data from the web 
url = "https://raw.githubusercontent.com/washingtonpost/data-homicides/master/homicide-data.csv"

homicides_raw = read_csv(url)
```

    ## Rows: 52179 Columns: 12
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## chr (9): uid, victim_last, victim_first, victim_race, victim_age, victim_sex...
    ## dbl (3): reported_date, lat, lon
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

-   The raw dataset include 52179observations of homicides reported
    criminal homicides over the past decade in 50 of the largest
    American cities, and 12 key variables, they are uid, reported_date,
    victim_last, victim_first, victim_race, victim_age, victim_sex,
    city, state, lat, lon, disposition.
-   some reported `unknown` under variable victim age, sex and race.
-   the `lat` contains 60 missing value, and `lon` contains 60 missing
    value,
-   the raw data contains 3 numeric variables: reported data. longitude
    and latitude, rest of the variables are designed as character
    variables.

``` r
#clean the raw data and create city_state varialbe 
homicides = homicides_raw %>% 
  janitor::clean_names() %>% 
  mutate(city_state = str_c(city, state,sep = ", "),
         resolved = case_when(
           disposition == "Closed by arrest" ~ "solved",
           disposition ==  "Open/No arrest" ~ "unsolved",
           disposition ==  "Closed without arrest" ~ "unsolved"
         )) %>% 
  filter(city_state != "Tulsa, AL") %>% 
  relocate(uid, city_state)
```
